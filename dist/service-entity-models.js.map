{"version":3,"sources":["webpack://service-entity-models/webpack/universalModuleDefinition","webpack://service-entity-models/webpack/bootstrap","webpack://service-entity-models/external {\"commonjs\":\"next-core-model\",\"commonjs2\":\"next-core-model\",\"amd\":\"next-core-model\",\"root\":\"next-core-model\"}","webpack://service-entity-models/./src/collection/resourceCollection.js","webpack://service-entity-models/external \"http\"","webpack://service-entity-models/external \"https\"","webpack://service-entity-models/./src/collection/paginationAPIType.js","webpack://service-entity-models/./src/index.js","webpack://service-entity-models/./src/collection/entityCollection.js","webpack://service-entity-models/./src/collection/paginatedResourceCollection.js","webpack://service-entity-models/./src/collection/paginationFactory.js","webpack://service-entity-models/./src/model/entity.js","webpack://service-entity-models/./src/model/resource.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","AbstractCollection","http","https","constructor","models","options","super","_uri","uri","console","warn","sync","method","success","error","that","j","u","attributes","path","headers","req","secure","request","res","setEncoding","on","body","once","statusCode","e","write","toJSON","end","statusMessage","data","parsed","JSON","parse","set","fetch","save","update","destroy","PAGINATION_API","GITHUB","SOLR","DATABASE","ResourceCollection","EntityCollection","PaginatedResourceCollection","PaginationFactory","Entity","Resource","query","datasource","initialize","setDataSourceCollection","init","setDatasource","q","insert","reset","remove","Augmented","isString","setCollection","paginationConfiguration","currentPageParam","pageSizeParam","pageSize","currentPage","totalPages","setPageSize","size","refresh","setCurrentPage","page","setPaginationConfiguration","config","nextPage","previousPage","goToPage","firstPage","lastPage","type","Collection","apiType","arg","collection","AbstractModel","args","id","unset","myQuery","isFunction","debug","stringify","Error","Array","isArray","length"],"mappings":"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","file":"service-entity-models.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"next-core-model\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"service-entity-models\", [\"next-core-model\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"service-entity-models\"] = factory(require(\"next-core-model\"));\n\telse\n\t\troot[\"service-entity-models\"] = factory(root[\"next-core-model\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","const { AbstractCollection } = require( \"next-core-model\");\nconst http = require(\"http\");\nconst https = require(\"https\");\n\n/**\n * Collection class to handle REST\n * @extends AbstractCollection\n */\nclass ResourceCollection extends AbstractCollection {\n  constructor(models, options) {\n    if (!options) {\n      options = {};\n    }\n    super(models, options);\n    this.name = (options.name) ? options.name : \"collection\";\n    this._uri = (options.uri) ? options.uri : \"\";\n  };\n  /**\n  * Collection name for us in a datasource or an identifier\n  * @property {string} name The name of the collection\n  */\n\n  /**\n  * @property {string} uri The uri for the resource\n  */\n\n  get uri() {\n    return this._uri;\n  };\n\n  set uri(uri) {\n    this._uri = uri;\n  };\n\n  /**\n  * @property url The url for the ResourceCollection\n  * @deprecated\n  */\n\n  get url() {\n    console.warn(\"url is deprecated, use uri instead.\");\n    return this._uri;\n  };\n\n  set url(uri) {\n    console.warn(\"url is deprecated, use uri instead.\");\n    this._uri = uri;\n  };\n\n  // need to sync\n  /**\n  * Sync method to handle REST functions for the model\n  * @param {string} method the operation to perform\n  * @param {object} options Any options to pass\n  */\n  sync(method, options) {\n    //logger.debug(\"sync \" + method);\n    if (this.uri) {\n      let that = this, success, error;\n      if (options && options.success && (typeof options.success === \"function\")) {\n        success = options.success;\n      }\n      if (options && options.error && (typeof options.error === \"function\")) {\n        error = options.error;\n      }\n\n      try {\n        let j = {}, q, u = (typeof this.uri === \"function\") ? this.uri() : this.uri;\n        if (method === \"create\") {\n          j = that.attributes;\n          let options = {\n            path: u,\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            }\n          };\n          const h = (this.secure) ? https : http;\n\n          let req = h.request(options, (res) => {\n            //logger.debug(\"Status: \" + res.statusCode);\n            //logger.debug(\"Headers: \" + JSON.stringify(res.headers));\n            res.setEncoding(\"utf8\");\n            res.on(\"data\", (body) => {\n              //logger.debug(\"Body: \" + body);\n            });\n\n            res.once(\"end\", () => {\n              if (success) {\n                success(req.statusCode);\n              }\n            });\n          });\n          req.on(\"error\", (e) => {\n            //logger.error(\"problem with request: \" + e.message);\n            if (error) {\n              error(500, e);\n            }\n          });\n          // write data to request body\n          req.write(that.toJSON());\n          req.end();\n\n        } else if (method === \"update\") {\n          j = that.attributes;\n          let options = {\n            path: u,\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            }\n          };\n\n          const h = (this.secure) ? https : http;\n\n          let req = h.request(options, (res) => {\n            //logger.debug(\"Status: \" + res.statusCode);\n            //logger.debug(\"Headers: \" + JSON.stringify(res.headers));\n            res.setEncoding(\"utf8\");\n            res.on(\"data\", (body) => {\n              //logger.debug(\"Body: \" + body);\n            });\n\n            res.once(\"end\", () => {\n              if (success) {\n                success(req.statusCode, req.statusMessage);\n              }\n            });\n          });\n          req.on(\"error\", (e) => {\n            //logger.error(\"problem with request: \" + e.message);\n            if (error) {\n              error(req.statusCode, e);\n            }\n          });\n          // write data to request body\n          req.write(that.toJSON());\n          req.end();\n\n        } else if (method === \"delete\") {\n          let options = {\n            path: u,\n            method: \"DELETE\"\n          };\n\n          const h = (this.secure) ? https : http;\n\n          let req = h.request(options, (res) => {\n            //logger.debug(\"Status: \" + res.statusCode);\n            res.setEncoding(\"utf8\");\n            res.once(\"end\", () => {\n              if (success) {\n                success(req.statusCode, req.statusMessage);\n              }\n            });\n          });\n          req.on(\"error\", (e) => {\n            //logger.error(\"problem with request: \" + e.message);\n            if (error) {\n              error(500, e);\n            }\n          });\n          req.end();\n\n        } else {\n          // read\n          //logger.debug(\"reading = require( \" + u);\n          //logger.debug(\"have options? \" + (options));\n\n          const h = (this.secure) ? https : http;\n\n          h.get(u, (res) => {\n            let body = \"\"; // Will contain the final response\n            // Received data is a buffer.\n            // Adding it to our body\n            res.on(\"data\", (data) => {\n              body += data;\n            });\n            // After the response is completed, parse it and log it to the console\n\n            if (res.statusCode >= 200 && res.statusCode < 300) {\n              res.once(\"end\", () => {\n                //logger.debug(\"Got data: \" + body);\n                let parsed = {};\n                try {\n                  parsed = JSON.parse(body);\n                  that.set(parsed);\n                  if (success) {\n                    success(res.statusCode, res.statusMessage);\n                  }\n                } catch(e) {\n                  //logger.error(\"Not JSON response, can't add to resource.  Exception: \" + e);\n                  if (error) {\n                    error(res.statusCode, e);\n                  }\n                }\n              });\n            } else {\n              //logger.error(\"Unsuccessfull Fetch - \" + res.statusCode + \" \" + res.statusMessage);\n              if (error) {\n                error(res.statusCode, res.statusMessage);\n              }\n            }\n          })\n          // If any error has occured, log error to console\n          .once(\"error\", (e, options) => {\n            //logger.error(\"Got error: \" + e.message);\n            if (error) {\n              error(500, e);\n            }\n          });\n        }\n      } catch(e) {\n        //logger.error(\"Got exception: \" + e);\n        if (error) {\n          error(500, e);\n        }\n      }\n    } else {\n      //throw new Error(\"No uri\");\n      //logger.warn();\n    }\n    return {};\n  };\n\n  /**\n  * Fetch the entity\n  * @param {object} options Any options to pass\n  */\n  fetch(options) {\n    this.sync(\"read\", options);\n  };\n  /**\n  * Save the entity\n  * @param {object} options Any options to pass\n  */\n  save(options) {\n    this.sync(\"create\", options);\n  };\n  /**\n  * Update the entity\n  * @param {object} options Any options to pass\n  */\n  update(options) {\n    this.sync(\"update\", options);\n  };\n  /**\n  * Destroy the entity\n  * @param {object} options Any options to pass\n  */\n  destroy(options) {\n    this.sync(\"delete\", options);\n  };\n};\n\nmodule.exports = ResourceCollection;\n","module.exports = require(\"http\");","module.exports = require(\"https\");","/**\n * Types of pagination API\n * @enum\n * @name PaginationFactory.type\n * @property {string} github GitHub API\n * @property {string} solr SOLR API\n * @property {string} database Database-like API\n */\nconst PAGINATION_API = {};\nPAGINATION_API.GITHUB = Symbol(\"github\");\nPAGINATION_API.SOLR = Symbol(\"solr\");\nPAGINATION_API.DATABASE = Symbol(\"database\");\n\nmodule.exports = PAGINATION_API;\n","const ResourceCollection = require(\"./collection/resourceCollection.js\");\nconst EntityCollection = require(\"./collection/entityCollection.js\");\nconst PaginatedResourceCollection = require(\"./collection/paginatedResourceCollection.js\");\nconst PaginationFactory = require(\"./collection/paginationFactory.js\");\nconst PAGINATION_API = require(\"./collection/paginationAPIType.js\");\nconst Entity = require(\"./model/entity.js\");\nconst Resource = require(\"./model/resource.js\");\n\nmodule.exports.ResourceCollection = ResourceCollection;\nmodule.exports.EntityCollection = EntityCollection;\nmodule.exports.PaginatedResourceCollection = PaginatedResourceCollection;\nmodule.exports.PaginationFactory = PaginationFactory;\nmodule.exports.PAGINATION_API = PAGINATION_API;\nmodule.exports.Entity = Entity;\nmodule.exports.Resource = Resource;\n","const { AbstractCollection } = require(\"next-core-model\");\n\n/**\n * Collection class to handle ORM to a datasource</br/>\n * <em>Note: Datasource property is required</em>\n * @extends AbstractCollection\n */\nclass EntityCollection extends AbstractCollection {\n  constructor(models, options) {\n    if (!options) {\n      options = {};\n    }\n    super(models, options);\n    this.name = (options.name) ? options.name : \"collection\";\n    this._uri = (options.uri) ? options.uri : \"\";\n    this.query = (options.query) ? options.query : null;\n    this.datasource = (options.datasource) ? options.datasource : null;\n  };\n\n  /**\n  * Collection name for us in a datasource or an identifier\n  * @property {string} name The name of the collection\n  */\n\n  /**\n  * The query to use for the query - defaults to \"id\" selection\n  * @method query The query string to use for selection\n  */\n\n  /**\n  * @property {string} uri The uri for the datasource (if applicable)\n  */\n\n  /**\n  * @property uri Set the uri for the ResourceCollection\n  * @returns {string|function} uri The URI or a function to retun a URI object\n  */\n  get uri() {\n    return this._uri;\n  };\n\n  set uri(uri) {\n    this._uri = uri;\n  };\n\n  /**\n  * @property url The url for the ResourceCollection\n  * @deprecated\n  */\n\n  get url() {\n    console.warn(\"url is deprecated, use uri instead.\");\n    return this._uri;\n  };\n\n  set url(uri) {\n    console.warn(\"url is deprecated, use uri instead.\");\n    this._uri = uri;\n  }; \n\n  /**\n  * Initialize the model with needed wireing\n  * @param {object} options Any options to pass\n  */\n  initialize(options) {\n    if (options) {\n      //logger.debug(\"calling initialize with options: \" + JSON.stringify(options));\n\n      if (options.datasource) {\n        this.datasource = options.datasource;\n      }\n      if (options.query) {\n        this.query = options.query;\n      }\n      if (options.name) {\n        this.name = options.name;\n      }\n      if (options.uri) {\n        this.uri = options.uri;\n      }\n    }\n    if (this.datasource && (this.uri === \"\")) {\n      this.uri =  this.datasource.uri;\n    }\n\n    this.setDataSourceCollection(this.name);\n\n    this.init(options);\n  };\n  /**\n  * Custom init method for the model (called at initialize)\n  * @param {object} options Any options to pass\n  */\n  init(options) {\n  };\n  /**\n  * @property {Augmented.Service.DataSource} datasource Datasource instance\n  */\n\n  /**\n  * Set the datasource for the Collection\n  * @param {object} datasource The datasource object\n  */\n  setDatasource(datasource) {\n    this.datasource = datasource;\n  };\n  /**\n  * Sync method to handle datasource functions for the Collection\n  * @param {string} method the operation to perform\n  * @param {object} options Any options to pass\n  */\n  sync(method, options) {\n    //logger.debug(\"sync \" + method);\n    if (this.datasource) {\n      let that = this;\n      try {\n        let j = {}, q;\n        if (method === \"create\") {\n          j = this.toJSON();\n          this.datasource.insert(j, () => {\n            that.reset(j);\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success();\n            }\n          });\n        } else if (method === \"update\") {\n          j = this.toJSON();\n          if (options && options.query) {\n            q = options.query;\n          } else {\n            q = this.query;\n          }\n\n          this.datasource.update(q, j, () => {\n            //that.reset(j);\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success();\n            }\n          });\n        } else if (method === \"delete\") {\n          if (options && options.query) {\n            q = options.query;\n          } else {\n            q = this.query;\n          }\n          this.datasource.remove(q, () => {\n            that.reset();\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success();\n            }\n          });\n        } else {\n          // read\n          //logger.log(\"reading\");\n\n          if (options && options.query) {\n            q = options.query;\n          } else {\n            q = this.query;\n          }\n\n          //logger.debug(\"query \" + JSON.stringify(q));\n          this.datasource.query(q, (data) => {\n            that.reset(data);\n\n            //logger.debug(\"returned: \" + JSON.stringify(data));\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success(data);\n            }\n          });\n        }\n      } catch(e) {\n        if (options && options.error && (typeof options.error === \"function\")) {\n          options.error(e);\n        }\n        //throw(e);\n      }\n    } //else {\n      //logger.warn(\"no datasource\");\n      //}\n      return {};\n    };\n    /**\n    * Fetch the entity\n    * @param {object} options Any options to pass\n    */\n    fetch(options) {\n      this.sync(\"read\", options);\n    };\n    /**\n    * Save the entity\n    * @param {object} options Any options to pass\n    */\n    save(options) {\n      this.sync(\"create\", options);\n    };\n    /**\n    * Update the entity\n    * @param {object} options Any options to pass\n    */\n    update(options) {\n      this.sync(\"update\", options);\n    };\n    /**\n    * Destroy the entity\n    * @param {object} options Any options to pass\n    */\n    destroy(options) {\n      this.sync(\"delete\", options);\n    };\n    /**\n    * Set the DataSource Collection\n    * @param {string} name The name of the collection datasouce\n    */\n    setDataSourceCollection(name) {\n      if (name && Augmented.isString(name) && this.datasource) {\n        //logger.debug(\"service: setting collection name: \" + name);\n        this.name = name;\n        this.datasource.setCollection(name);\n      }\n    }\n  };\n\nmodule.exports = EntityCollection;\n","const ResourceCollection = require(\"./resourceCollection.js\");\n\n/**\n * Collection class to handle ORM to a datasource with pagination</br/>\n * <em>Note: Datasource property is required</em>\n * @extends ResourceCollection\n */\nclass PaginatedResourceCollection extends ResourceCollection {\n  constructor(models, options) {\n    if (!options) {\n      options = {};\n    }\n    super(models, options);\n    this.paginationConfiguration = {\n      currentPageParam: \"page\",\n      pageSizeParam: \"per_page\"\n    };\n\n    this.pageSize = (options.pageSize) ? options.pageSize : 20;\n    this.currentPage = (options.currentPage) ? options.currentPage : 1;\n    this.totalPages = 1; //  need to calculate later\n  };\n  /**\n   * Sets the number of items in a page\n   * @param {number} size Number of items in each page\n   */\n  setPageSize(size) {\n    if (size) {\n      this.pageSize = size;\n    }\n    this.refresh();\n  };\n  /**\n   * Sets the current page\n   * @param {number} page Current page in collection\n   */\n  setCurrentPage(page) {\n    if (!page) {\n      page = 1;\n    }\n    this.currentPage = page;\n    this.refresh();\n  };\n  /**\n   * Sets pagination configuration\n   * @param {object} config pagination configuration\n   * @private\n   */\n  setPaginationConfiguration(config) {\n    this.paginationConfiguration = config;\n  };\n  /**\n  * Fetch the entity\n  * @param {object} options Any options to pass\n  */\n  fetch(options) {\n    options = (options) ? options : {};\n    var data = (options.data || {});\n    var p = this.paginationConfiguration;\n    var d = {};\n    d[p.currentPageParam] = this.currentPage;\n    d[p.pageSizeParam] = this.pageSize;\n\n    options.data = d;\n\n    return super.fetch(options);\n  };\n  /**\n   * Moves to the next page\n   */\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage = this.currentPage + 1;\n      this.refresh();\n    }\n  };\n  /**\n   * Moves to the previous page\n   */\n  previousPage() {\n    if (this.currentPage > 0) {\n      this.currentPage = this.currentPage - 1;\n      this.refresh();\n    }\n  };\n  /**\n   * Goes to page\n   * @param {number} page Page to go to\n   */\n  goToPage(page) {\n    if ((page) && (page < this.totalPages) && (page > 0)) {\n      this.currentPage = page;\n      this.refresh();\n    }\n  };\n  /**\n   * Moves to the first page\n   */\n  firstPage() {\n    this.currentPage = 1;\n    this.refresh();\n  };\n  /**\n   * Moves to the last page\n   */\n  lastPage() {\n    this.currentPage = this.totalPages;\n    this.refresh();\n  };\n  /**\n   * Refreshes the collection\n   */\n  refresh() {\n    this.fetch();\n  };\n};\n\nmodule.exports = PaginatedResourceCollection;\n","const PAGINATION_API = require(\"./paginationAPIType.js\");\n\n/**\n * Pagination factory for returning pagination collections of an API type\n */\nclass PaginationFactory {\n  constructor() {\n    this.type = PAGINATION_API;\n  };\n\n  /**\n   * Get a pagination collection of type\n   * @param {PAGINATION_API} Collection The collection class to enrich\n   * @param {PAGINATION_API} apiType The API type to return an instance of\n   * @param {object} args Collection arguments\n   * @static\n   * @returns {Collection} Returns a new collection with pagination configured\n   */\n  static getPaginatedCollection(Collection, apiType, data) {\n    const arg = (data) ? data : {};\n    let collection = null;\n\n    if (!apiType) {\n      apiType = PAGINATION_API.GITHUB;\n    }\n    if (apiType === PAGINATION_API.GITHUB) {\n      collection = new Collection(arg);\n      collection.setPaginationConfiguration({\n        currentPageParam: \"page\",\n        pageSizeParam: \"per_page\"\n      });\n    } else if (apiType === PAGINATION_API.SOLR) {\n      collection = new Collection(arg);\n      collection.setPaginationConfiguration({\n        currentPageParam: \"start\",\n        pageSizeParam: \"rows\"\n      });\n    } else if (apiType === PAGINATION_API.DATABASE) {\n      collection = new Collection(arg);\n      collection.setPaginationConfiguration({\n        currentPageParam: \"offset\",\n        pageSizeParam: \"limit\"\n      });\n    }\n    return collection;\n  };\n};\n\nmodule.exports = PaginationFactory;\n","const { AbstractModel } = require(\"next-core-model\");\n\n/**\n * Entity class to handle ORM to a datasource</br/>\n * <em>Note: Datasource property is required</em>\n * @param {attributes} attributes Any attributes to prefill the model\n * @param {object} options Any options to pass\n * @param {any} ...args Any additional args\n * @extends AbstractModel\n */\nclass Entity extends AbstractModel {\n  constructor(attributes, options, ...args) {\n    if (!options) {\n      options = {};\n    }\n    super(attributes, options, args);\n    this.collection = (options.collection) ? options.collection : \"collection\";\n    this._uri = (options.uri) ? options.uri : \"\";\n    this.query = (options.query) ? options.query : null;\n    this.datasource = (options.datasource) ? options.datasource : null;\n    this.id = (options.id) ? options.id : \"\";\n  };\n  /**\n  * The query to use for the query - defaults to \"id\" selection\n  * @property {object} query The query string to use for selection\n  */\n\n  /**\n  * @property {string|function} uri The uri for the datasource (if applicable)\n  */\n\n  /**\n  * @property {string} collection The collection for the datasource (if applicable)\n  */\n\n  /**\n  * Initialize the model with needed wiring\n  * @param {object} options Any options to pass\n  */\n  initialize(options) {\n    if (options) {\n      if (options.collection) {\n        this.collection = options.collection;\n      }\n      if (options.datasource) {\n        this.datasource = options.datasource;\n      }\n      if (options.uri) {\n        this.uri = this.datasource.uri;\n      }\n      if (options.id) {\n        this.id = options.id;\n      }\n      if (options.query) {\n        this.query = options.query;\n      }\n    }\n    // don't save this as data, but properties via the object base class options copy.\n    this.unset(\"datasource\");\n    this.unset(\"uri\");\n    this.unset(\"query\");\n    this.unset(\"collection\");\n    this.unset(\"id\");\n    if (this.datasource && this.collection) {\n      this.datasource.setCollection(this.collection);\n    }\n    this.init(options);\n  };\n  /**\n  * Custom init method for the model (called at inititlize)\n  * @param {object} options Any options to pass\n  */\n  init(options) {\n  };\n  /**\n  * @property {Augmented.Service.DataSource} datasource Datasource instance\n  */\n\n  /**\n  * Sync method to handle datasource functions for the model\n  * @param {string} method the operation to perform\n  * @param {object} options Any options to pass\n  */\n  sync(method, options) {\n    //logger.debug(\"sync \" + method);\n    if (this.datasource) {\n      const that = this;\n      try {\n        let j = {}, q;\n        if (method === \"create\") {\n          j = that.attributes;\n          this.datasource.insert(j, () => {\n            that.reset(j);\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success();\n            }\n          });\n        } else if (method === \"update\") {\n          j = that.attributes;\n\n          //logger.debug(\"The object: \" + JSON.stringify(j));\n\n          if (options && options.query) {\n            q = options.query;\n          } else {\n            q = this.query;\n          }\n\n          this.datasource.update(q, j, () => {\n            //that.reset(j);\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success();\n            }\n          });\n        } else if (method === \"delete\") {\n          if (options && options.query) {\n            q = options.query;\n          } else {\n            q = this.query;\n          }\n          this.datasource.remove(q, () => {\n            that.reset();\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success();\n            }\n          });\n        } else {\n          // read\n          //logger.debug(\"reading\");\n\n          if (options && options.query) {\n            q = options.query;\n          } else {\n            q = that.query;\n          }\n\n          let myQuery = q;\n          if (Augmented.isFunction(q)) {\n            let x = q();\n            //logger.debug(\"x \" + x);\n            myQuery = x;\n          }\n\n          console.debug(\"query \" + JSON.stringify(myQuery));\n          this.datasource.query(myQuery, (data) => {\n            if (data === null) {\n              throw new Error(\"No Data Returned!\");\n            }\n            if (Array.isArray(data) && data.length > 0) {\n              that.reset(data[0]);\n            } else if (Array.isArray(data) && data.length === 0) {\n              that.reset();\n            } else {\n              that.reset(data);\n            }\n\n            //logger.debug(\"returned: \" + JSON.stringify(data));\n            if (options && options.success && (typeof options.success === \"function\")) {\n              options.success(data);\n            }\n          });\n        }\n      } catch(e) {\n        if (options && options.error && (typeof options.error === \"function\")) {\n          options.error(e);\n        }\n        //throw(e);\n      }\n    } //else {\n      //    logger.warn(\"no datasource\");\n      //}\n    return {};\n  };\n  /**\n  * Fetch the entity\n  * @param {object} options Any options to pass\n  */\n  fetch(options) {\n    this.sync(\"read\", options);\n  };\n  /**\n  * Save the entity\n  * @param {object} options Any options to pass\n  */\n  save(options) {\n    this.sync(\"create\", options);\n  };\n  /**\n  * Update the entity\n  * @param {object} options Any options to pass\n  */\n  update(options) {\n    this.sync(\"update\", options);\n  };\n  /**\n  * Destroy the entity\n  * @param {object} options Any options to pass\n  */\n  destroy(options) {\n    this.sync(\"delete\", options);\n  };\n};\n\nmodule.exports = Entity;\n","const { AbstractModel } = require(\"next-core-model\");\nconst http = require(\"http\");\nconst https = require(\"https\");\n\n/**\n * Resource class to handle REST <br/>\n * <em>Note: URI property is required</em>\n * @param {attributes} attributes Any attributes to prefill the model\n * @param {object} options Any options to pass\n * @param {any} ...args Any additional args\n * @extends AbstractModel\n */\nclass Resource extends AbstractModel {\n  constructor(attributes, options, ...args) {\n    if (!options) {\n      options = {};\n    }\n    super(attributes, options, args);\n    this.datasource = (options.datasource) ? options.datasource : null;\n    this.id = (options.id) ? options.id : \"\";\n    this.secure = (options.secure) ? options.secure : false;\n  };\n  /**\n  * @property {string} secure The secure flag\n  */\n\n  /**\n  * @property {string} uri The uri for the REST Service\n  */\n\n  /**\n  * Initialize the model with needed wiring\n  * @param {object} options Any options to pass\n  */\n  initialize(options) {\n    //logger.log(\"initialize\");\n    if (options && options.uri) {\n      this.uri = options.uri;\n    }\n    // don't save this as data, but properties via the object base class options copy.\n    this.unset(\"uri\");\n    this.init(options);\n  };\n  /**\n  * Custom init method for the model (called at inititlize)\n  * @param {object} options Any options to pass\n  */\n  init(options) {\n  };\n  /**\n  * Fetch the Resource\n  * @param {object} options Any options to pass\n  */\n  fetch(options) {\n    this.sync(\"read\", options);\n  };\n  /**\n  * Sync method to handle REST functions for the model\n  * @param {string} method the operation to perform\n  * @param {object} options Any options to pass\n  */\n  sync(method, options) {\n    //logger.debug(\"sync \" + method);\n    if (this.uri) {\n      let that = this, success, error;\n      if (options && options.success && (typeof options.success === \"function\")) {\n        success = options.success;\n      }\n      if (options && options.error && (typeof options.error === \"function\")) {\n        error = options.error;\n      }\n\n      try {\n        const u = (typeof this.uri === \"function\") ? this.uri() : this.uri;\n        if (method === \"create\") {\n          const options = {\n            path: u,\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            }\n          };\n          const h = (this.secure) ? https : http;\n\n          const req = h.request(options, (res) => {\n            //logger.debug(\"Status: \" + res.statusCode);\n            //logger.debug(\"Headers: \" + JSON.stringify(res.headers));\n            res.setEncoding(\"utf8\");\n            res.on(\"data\", (body) => {\n              //logger.debug(\"Body: \" + body);\n            });\n\n            res.once(\"end\", () => {\n              if (success) {\n                success(req.statusCode);\n              }\n            });\n          });\n          req.on(\"error\", (e) => {\n            //logger.error(\"problem with request: \" + e.message);\n            if (error) {\n              error(500, e);\n            }\n          });\n          // write data to request body\n          req.write(that.toJSON());\n          req.end();\n\n        } else if (method === \"update\") {\n          const options = {\n            path: u,\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            }\n          };\n\n          const h = (this.secure) ? https : http;\n\n          const req = h.request(options, (res) => {\n            //logger.debug(\"Status: \" + res.statusCode);\n            //logger.debug(\"Headers: \" + JSON.stringify(res.headers));\n            res.setEncoding(\"utf8\");\n            res.on(\"data\", (body) => {\n              //logger.debug(\"Body: \" + body);\n            });\n\n            res.once(\"end\", () => {\n              if (success) {\n                success(req.statusCode, req.statusMessage);\n              }\n            });\n          });\n          req.on(\"error\", (e) => {\n            //logger.error(\"problem with request: \" + e.message);\n            if (error) {\n              error(req.statusCode, e);\n            }\n          });\n          // write data to request body\n          req.write(that.toJSON());\n          req.end();\n\n        } else if (method === \"delete\") {\n          const options = {\n            path: u,\n            method: \"DELETE\"\n          };\n\n          const h = (this.secure) ? https : http;\n\n          const req = h.request(options, (res) => {\n            //logger.debug(\"Status: \" + res.statusCode);\n            res.setEncoding(\"utf8\");\n            res.once(\"end\", () => {\n              if (success) {\n                success(req.statusCode, req.statusMessage);\n              }\n            });\n          });\n          req.on(\"error\", (e) => {\n            //logger.error(\"problem with request: \" + e.message);\n            if (error) {\n              error(500, e);\n            }\n          });\n          req.end();\n\n        } else {\n          // read\n          //logger.debug(\"reading = require(\" + u);\n          //logger.debug(\"have options? \" + (options));\n\n          const h = (this.secure) ? https : http;\n\n          h.get(u, (res) => {\n            let body = \"\"; // Will contain the final response\n            // Received data is a buffer.\n            // Adding it to our body\n            res.on(\"data\", (data) => {\n              body += data;\n            });\n            // After the response is completed, parse it and log it to the console\n\n            if (res.statusCode >= 200 && res.statusCode < 300) {\n              res.once(\"end\", () => {\n                //logger.debug(\"Got data: \" + body);\n                let parsed = {};\n                try {\n                  parsed = JSON.parse(body);\n                  that.set(parsed);\n                  if (success) {\n                    success(res.statusCode, res.statusMessage);\n                  }\n                } catch(e) {\n                  //logger.error(\"Not JSON response, can't add to resource.  Exception: \" + e);\n                  if (error) {\n                    error(res.statusCode, e);\n                  }\n                }\n              });\n            } else {\n              //logger.error(\"Unsuccessfull Fetch - \" + res.statusCode + \" \" + res.statusMessage);\n              if (error) {\n                error(res.statusCode, res.statusMessage);\n              }\n            }\n          })\n          // If any error has occured, log error to console\n          .once(\"error\", (e, options) => {\n            //logger.error(\"Got error: \" + e.message);\n            if (error) {\n              error(500, e);\n            }\n          });\n        }\n      } catch(e) {\n        console.error(e);\n        if (error) {\n          error(500, e);\n        }\n      }\n    } else {\n      //throw new Error(\"No uri\");\n      //logger.warn();\n    }\n    return {};\n  };\n};\n\nmodule.exports = Resource;\n"],"sourceRoot":""}